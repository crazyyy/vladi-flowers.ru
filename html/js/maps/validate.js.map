{"version":3,"sources":["validate.js"],"names":["Object","append","Browser","Features","inputemail","a","document","createElement","setAttribute","type","JFormValidator","Class","initialize","this","handlers","custom","setHandler","regex","test","$$","each","attachToForm","b","c","enabled","exec","getElements","hasClass","set","id","get","addEvent","formvalidator","validate","onclick","isValid","form","handleResponse","checked","className","search","match","concat","Array","from","elements","length","Hash","labelref","addClass","removeClass","window"],"mappings":"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","file":"validate.js","sourcesContent":["/*\n    GNU General Public License version 2 or later; see LICENSE.txt\n*/\nObject.append(Browser.Features, {\n  inputemail: function() {\n    var a = document.createElement(\"input\");\n    a.setAttribute(\"type\", \"email\");\n    return a.type !== \"text\"\n  }()\n});\nvar JFormValidator = new Class({\n  initialize: function() {\n    this.handlers = {};\n    this.custom = {};\n    this.setHandler(\"username\", function(a) {\n      regex = /[<|>|\"|'|%|;|(|)|&]/i;\n      return !regex.test(a)\n    });\n    this.setHandler(\"password\", function(a) {\n      regex = /^\\S[\\S ]{2,98}\\S$/;\n      return regex.test(a)\n    });\n    this.setHandler(\"numeric\", function(a) {\n      regex = /^(\\d|-)?(\\d|,)*\\.?\\d*$/;\n      return regex.test(a)\n    });\n    this.setHandler(\"email\", function(a) {\n      regex = /^[a-zA-Z0-9._-]+(\\+[a-zA-Z0-9._-]+)*@([a-zA-Z0-9.-]+\\.)+[a-zA-Z0-9.-]{2,4}$/;\n      return regex.test(a)\n    });\n    $$(\"form.form-validate\").each(function(a) {\n        this.attachToForm(a)\n      },\n      this)\n  },\n  setHandler: function(a, b, c) {\n    this.handlers[a] = {\n      enabled: c == \"\" ? !0 : c,\n      exec: b\n    }\n  },\n  attachToForm: function(a) {\n    a.getElements(\"input,textarea,select,button\").each(function(a) {\n      a.hasClass(\"required\") && (a.set(\"aria-required\", \"true\"), a.set(\"required\", \"required\"));\n      if ((document.id(a).get(\"tag\") == \"input\" || document.id(a).get(\"tag\") == \"button\") && document.id(a).get(\"type\") == \"submit\") {\n        if (a.hasClass(\"validate\")) a.onclick = function() {\n          return document.formvalidator.isValid(this.form)\n        }\n      } else if (a.addEvent(\"blur\", function() {\n          return document.formvalidator.validate(this)\n        }),\n        a.hasClass(\"validate-email\") && Browser.Features.inputemail) a.type = \"email\"\n    })\n  },\n  validate: function(a) {\n    a = document.id(a);\n    if (a.get(\"disabled\")) return this.handleResponse(!0, a), !0;\n    if (a.hasClass(\"required\"))\n      if (a.get(\"tag\") == \"fieldset\" && (a.hasClass(\"radio\") || a.hasClass(\"checkboxes\")))\n        for (var b = 0;; b++)\n          if (document.id(a.get(\"id\") + b)) {\n            if (document.id(a.get(\"id\") + b).checked) break\n          } else return this.handleResponse(!1, a), !1;\n    else if (!a.get(\"value\")) return this.handleResponse(!1, a), !1;\n    b = a.className && a.className.search(/validate-([a-zA-Z0-9\\_\\-]+)/) !=\n      -1 ? a.className.match(/validate-([a-zA-Z0-9\\_\\-]+)/)[1] : \"\";\n    if (b == \"\") return this.handleResponse(!0, a), !0;\n    if (b && b != \"none\" && this.handlers[b] && a.get(\"value\") && this.handlers[b].exec(a.get(\"value\")) != !0) return this.handleResponse(!1, a), !1;\n    this.handleResponse(!0, a);\n    return !0\n  },\n  isValid: function(a) {\n    for (var b = !0, a = a.getElements(\"fieldset\").concat(Array.from(a.elements)), c = 0; c < a.length; c++) this.validate(a[c]) == !1 && (b = !1);\n    (new Hash(this.custom)).each(function(a) {\n      a.exec() != !0 && (b = !1)\n    });\n    return b\n  },\n  handleResponse: function(a,\n    b) {\n    b.labelref || $$(\"label\").each(function(a) {\n      if (a.get(\"for\") == b.get(\"id\")) b.labelref = a\n    });\n    a == !1 ? (b.addClass(\"invalid\"), b.set(\"aria-invalid\", \"true\"), b.labelref && (document.id(b.labelref).addClass(\"invalid\"), document.id(b.labelref).set(\"aria-invalid\", \"true\"))) : (b.removeClass(\"invalid\"), b.set(\"aria-invalid\", \"false\"), b.labelref && (document.id(b.labelref).removeClass(\"invalid\"), document.id(b.labelref).set(\"aria-invalid\", \"false\")))\n  }\n});\ndocument.formvalidator = null;\nwindow.addEvent(\"domready\", function() {\n  document.formvalidator = new JFormValidator\n});\n"],"sourceRoot":"/source/"}