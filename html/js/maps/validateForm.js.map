{"version":3,"sources":["validateForm.js"],"names":["validateForm","nameForm","arrayId","arrayType","arrayParams","arrayErrorMessages","typeShowError","css_class_error","this","idEl","type","params","messages","errorsMsg","Array","errorId","current","end","length","errorMsg","addError","getType","getParam","getId","getMessage","parseNumber","reg","pattern","test","RegExp","$1","$2","getValue","checkNumber","checkFloat","value","parseFloat","isNaN","checkRegular","checkFloatOrEmpty","checkNotEmptyFunc","checkFloatOrEmptyOrZero","checkNotNull","checkMoreLength","checkLessLength","checkEqualNotEmpty","notEmpty","element2","element1","checkNotEmpty","checkMail","checkZipCode","checkDate","tempDate","year","month","day","$3","checkDateOrEmpty","naturalNumber","parseInt","checked","$","getForm","document","forms","getCurrent","next","notEnd","idElement","getElementById","element","options","selectedIndex","validate","unhighlightFields","focus","showErrors","highlightFields","countErrors","i","alert","form","countElements","elements","jQuery","parentNode","removeClass","addClass"],"mappings":"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","file":"validateForm.js","sourcesContent":["// Class validateForm ver 1.0.3\n// marketing@maxx-marketing.net\n/*\n  num = number (from 1 digit to 2 digit, when 1 digit - to tochne spivpadinnya)\n  nem = not empty\n  eq = equal - 2 polya vkazuvaty\n  em = email\n  nat = natural digit (>0)\n  reg = regular expression\n  chk - is checkbox checked\n  fl  = is float and>0\n  fl|em  = (is float and>0) or empty\n  notn = not null (for select)\n  eqne = value must equal and not empty\n  less = length muss less then %s symbols\n  more = length muss more then %s symbols\n  date = check is date\n  date|em = check is date or empty\n*/\n\nfunction validateForm(nameForm, arrayId, arrayType, arrayParams, arrayErrorMessages, typeShowError, css_class_error) {\n  this.idEl = arrayId;\n  this.type = arrayType;\n  this.params = arrayParams;\n  this.messages = arrayErrorMessages;\n  this.errorsMsg = new Array();\n  this.errorId = new Array();\n  this.current = 0;\n  this.end = this.idEl.length;\n  this.errorMsg = '';\n  this.typeShowError = typeShowError; //1 = showErrors 2 = highlightFields 3 = 1 + 2\n  this.nameForm = nameForm;\n  if (css_class_error) {\n    this.css_class_error = css_class_error;\n  } else {\n    this.css_class_error = 'fielderror';\n  }\n\n  this.addError = function() {\n    if (this.getType() == 'eqne' || this.getType() == 'eq') {\n      this.errorId[this.errorId.length] = this.getParam();\n    }\n    this.errorId[this.errorId.length] = this.getId();\n    this.errorsMsg[this.errorsMsg.length] = this.getMessage();\n  }\n\n  this.parseNumber = function() {\n    var reg = /^(\\d*),(\\d*)$/;\n    var pattern = (reg.test(this.getParam())) ? (new RegExp('^(\\\\d){' + RegExp.$1 + ',' + RegExp.$2 + '}$')) : (new RegExp('^(\\\\d){' + this.getParam() + '}$'));\n    if (!pattern.test(this.getValue(0))) {\n      this.addError();\n    }\n  }\n\n  this.checkNumber = function(pattern) {\n    this.parseNumber();\n  }\n\n  this.checkFloat = function() {\n    var value = parseFloat(this.getValue(0));\n    if (isNaN(value) || value <= 0) this.addError();\n  }\n\n  this.checkRegular = function() {\n    var pattern = new RegExp(this.getParam());\n    if (!pattern.test(this.getValue(0))) this.addError();\n  }\n\n  this.checkFloatOrEmpty = function() {\n    var value = parseFloat(this.getValue(0));\n    if (!this.checkNotEmptyFunc(this.getValue())) return true;\n    else this.checkFloat();\n  }\n\n  this.checkFloatOrEmptyOrZero = function() {\n    if (this.getValue(0) == 0) return true;\n    else this.checkFloatOrEmpty();\n  }\n\n  this.checkNotNull = function() {\n    if (this.getValue(0) == 0) this.addError();\n  }\n\n  this.checkMoreLength = function() {\n    if (this.getValue(0).length < this.getParam()) this.addError();\n  }\n\n  this.checkLessLength = function() {\n    if (this.getValue(0).length > this.getParam()) this.addError();\n  }\n\n  this.checkEqualNotEmpty = function(notEmpty) {\n    var element2 = this.getValue(0);\n    var element1 = this.getValue(this.getParam());\n    if (element1 != element2) {\n      this.addError();\n    } else if (notEmpty) {\n      if (!this.checkNotEmptyFunc(element1)) {\n        this.addError();\n      }\n    }\n  }\n\n  this.checkNotEmptyFunc = function(value) {\n    var pattern = /\\S/;\n    return (value) ? (pattern.test(value)) : (pattern.test(this.getValue(0)));\n  }\n\n  this.checkNotEmpty = function() {\n    if (!this.checkNotEmptyFunc()) {\n      this.addError();\n    }\n  }\n\n  this.checkMail = function() {\n    var pattern = /^([a-zA-Z0-9_\\.\\-])+\\@(([a-zA-Z0-9\\-])+\\.)+([a-zA-Z0-9]{2,4})+$/;\n    if (!pattern.test(this.getValue(0))) {\n      this.addError();\n    }\n  }\n\n  this.checkZipCode = function() {\n    var pattern = /\\S/;\n    if (!pattern.test(this.getValue(0))) {\n      this.addError();\n    }\n  }\n\n  this.checkDate = function() {\n    var tempDate = this.getValue(0);\n    var pattern = new RegExp(\"^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})$\");\n    if (pattern.test(tempDate)) {\n      var year = RegExp.$1;\n      var month = RegExp.$2;\n      var day = RegExp.$3;\n      if (month < 1 || month > 12) {\n        this.addError();\n      } else if (year > 2099 || year < 1900) {\n        this.addError();\n      } else if (day < 1 || day > 31) {\n        this.addError();\n      }\n    } else {\n      this.addError();\n    }\n  }\n\n  this.checkDateOrEmpty = function() {\n    if (!this.checkNotEmptyFunc(this.getValue())) return true;\n    else this.checkDate();\n  }\n\n  this.naturalNumber = function() {\n    var value = parseInt(this.getValue(0));\n    if (isNaN(value) || value <= 0) this.addError();\n  }\n\n  this.checked = function() {\n    if (!this.$().checked) this.addError();\n  }\n\n  this.getType = function() {\n    return this.type[this.current];\n  }\n\n  this.getForm = function() {\n    return document.forms[nameForm];\n  }\n\n  this.getId = function() {\n    return this.idEl[this.current];\n  }\n\n  this.getParam = function() {\n    return this.params[this.current];\n  }\n\n  this.getMessage = function() {\n    return this.messages[this.current];\n  }\n\n  this.getCurrent = function() {\n    return this.idEl[this.current];\n  }\n\n  this.next = function() {\n    this.current++;\n  }\n\n  this.notEnd = function() {\n    return (this.current < this.end);\n  }\n\n  this.$ = function(idElement) {\n    return (idElement) ? (document.getElementById(idElement)) : (document.getElementById(this.getCurrent()));\n  }\n\n  this.getValue = function(idElement) {\n    if (!idElement) {\n      var element = this.$(this.getCurrent());\n    } else {\n      var element = this.$(idElement);\n    }\n    switch (element.type) {\n      case 'select-one':\n        return element.options[element.selectedIndex].value;\n        break;\n      case 'radio':\n      case 'checkbox':\n        return element.checked;\n        break;\n      case 'text':\n      case 'password':\n      case 'textarea':\n        return element.value;\n        break;\n    }\n  }\n\n  this.validate = function() {\n    this.unhighlightFields();\n    while (this.notEnd()) {\n      if (this.$(0)) {\n        switch (this.getType()) {\n          case 'num':\n            this.checkNumber();\n            break;\n          case 'nem':\n            this.checkNotEmpty();\n            break;\n          case 'em':\n            this.checkMail();\n            break;\n          case 'nat':\n            this.naturalNumber();\n            break;\n          case 'chk':\n            this.checked();\n            break;\n          case 'fl':\n            this.checkFloat();\n            break;\n          case 'fl|em':\n            this.checkFloatOrEmpty();\n            break;\n          case 'fl|em|0':\n            this.checkFloatOrEmptyOrZero();\n            break;\n          case 'notn':\n            this.checkNotNull();\n            break;\n          case 'eq':\n            this.checkEqualNotEmpty(0);\n            break;\n          case 'eqne':\n            this.checkEqualNotEmpty(1);\n            break;\n          case 'more':\n            this.checkMoreLength();\n            break;\n          case 'less':\n            this.checkLessLength();\n            break;\n          case 'date':\n            this.checkDate(this.getParam());\n            break;\n          case 'reg':\n            this.checkRegular();\n            break;\n          case 'date|em':\n            this.checkDateOrEmpty(this.getParam());\n            break;\n          case 'zip':\n            this.checkZipCode();\n            break;\n        }\n      }\n      this.next();\n    }\n\n    if (this.errorsMsg.length) {\n      this.$(this.errorId[0]).focus();\n      switch (this.typeShowError) {\n        case 1:\n          this.showErrors();\n          break;\n        case 2:\n          this.highlightFields();\n          break;\n        case 3:\n          this.showErrors();\n          this.highlightFields();\n          break;\n      }\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  this.showErrors = function() {\n    var countErrors = this.errorsMsg.length;\n    for (var i = 0; i < countErrors; i++) {\n      this.errorMsg += this.errorsMsg[i] + \"\\n\";\n    }\n    alert(this.errorMsg);\n  }\n\n  this.unhighlightFields = function() {\n    var form = this.getForm();\n    var countElements = form.length;\n    for (i = 0; i < countElements; i++) {\n      if (form.elements[i].type == 'button' || form.elements[i].type == 'submit' || form.elements[i].type == 'hidden')\n        continue;\n      else if (form.elements[i].type == 'checkbox') {\n        jQuery(form.elements[i].parentNode).removeClass(this.css_class_error);\n      } else {\n        jQuery(form.elements[i]).removeClass(this.css_class_error);\n      }\n    }\n  }\n\n  this.highlightFields = function() {\n    var countErrors = this.errorId.length;\n    for (var i = 0; i < countErrors; i++) {\n      if (this.$(this.errorId[i]).type == 'checkbox') {\n        jQuery(this.$(this.errorId[i]).parentNode).addClass(this.css_class_error);\n      } else {\n        jQuery(this.$(this.errorId[i])).addClass(this.css_class_error);\n      }\n    }\n  }\n}\n"],"sourceRoot":"/source/"}