{"version":3,"sources":["jquery.rating.pack.js"],"names":["window","jQuery","$","browser","msie","document","execCommand","e","fn","rating","options","this","length","arguments","args","each","apply","makeArray","slice","extend","calls","not","addClass","control","input","eid","name","replace","context","form","body","raters","data","call","count","rater","metadata","meta","stars","inputs","serial","before","attr","readOnly","append","cancel","cancelValue","mouseover","mouseout","removeClass","click","star","title","value","id","className","half","split","stw","width","starWidth","spi","spw","Math","floor","find","css","margin-left","checked","current","hide","change","focus","tagName","val","blur","fill","prevAll","andSelf","filter","drain","children","draw","removeAttr","required","siblings","select","wantCallBack","undefined","is","callback","toggle","disable","enable"],"mappings":"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","file":"jquery.rating.pack.js","sourcesContent":["/*\r\n ### jQuery Star Rating Plugin v3.13 - 2009-03-26 ###\r\n * Home: http://www.fyneworks.com/jquery/star-rating/\r\n * Code: http://code.google.com/p/jquery-star-rating-plugin/\r\n *\r\n\t* Dual licensed under the MIT and GPL licenses:\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *   http://www.gnu.org/licenses/gpl.html\r\n ###\r\n*/\r\n\r\n/*# AVOID COLLISIONS #*/\r\n;if(window.jQuery) (function($){\r\n/*# AVOID COLLISIONS #*/\r\n\t\r\n\t// IE6 Background Image Fix\r\n\tif ($.browser.msie) try { document.execCommand(\"BackgroundImageCache\", false, true)} catch(e) { };\r\n\t// Thanks to http://www.visualjquery.com/rating/rating_redux.html\r\n\t\r\n\t// plugin initialization\r\n\t$.fn.rating = function(options){\r\n\t\tif(this.length==0) return this; // quick fail\r\n\t\t\r\n\t\t// Handle API methods\r\n\t\tif(typeof arguments[0]=='string'){\r\n\t\t\t// Perform API methods on individual elements\r\n\t\t\tif(this.length>1){\r\n\t\t\t\tvar args = arguments;\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\t$.fn.rating.apply($(this), args);\r\n    });\r\n\t\t\t};\r\n\t\t\t// Invoke API method handler\r\n\t\t\t$.fn.rating[arguments[0]].apply(this, $.makeArray(arguments).slice(1) || []);\r\n\t\t\t// Quick exit...\r\n\t\t\treturn this;\r\n\t\t};\r\n\t\t\r\n\t\t// Initialize options for this call\r\n\t\tvar options = $.extend(\r\n\t\t\t{}/* new object */,\r\n\t\t\t$.fn.rating.options/* default options */,\r\n\t\t\toptions || {} /* just-in-time options */\r\n\t\t);\r\n\t\t\r\n\t\t// Allow multiple controls with the same name by making each call unique\r\n\t\t$.fn.rating.calls++;\r\n\t\t\r\n\t\t// loop through each matched element\r\n\t\tthis\r\n\t\t .not('.star-rating-applied')\r\n\t\t\t.addClass('star-rating-applied')\r\n\t\t.each(function(){\r\n\t\t\t\r\n\t\t\t// Load control parameters / find context / etc\r\n\t\t\tvar control, input = $(this);\r\n\t\t\tvar eid = (this.name || 'unnamed-rating').replace(/\\[|\\]/g, '_').replace(/^\\_+|\\_+$/g,'');\r\n\t\t\tvar context = $(this.form || document.body);\r\n\t\t\t\r\n\t\t\t// FIX: http://code.google.com/p/jquery-star-rating-plugin/issues/detail?id=23\r\n\t\t\tvar raters = context.data('rating');\r\n\t\t\tif(!raters || raters.call!=$.fn.rating.calls) raters = { count:0, call:$.fn.rating.calls };\r\n\t\t\tvar rater = raters[eid];\r\n\t\t\t\r\n\t\t\t// if rater is available, verify that the control still exists\r\n\t\t\tif(rater) control = rater.data('rating');\r\n\t\t\t\r\n\t\t\tif(rater && control)//{// save a byte!\r\n\t\t\t\t// add star to control if rater is available and the same control still exists\r\n\t\t\t\tcontrol.count++;\r\n\t\t\t\t\r\n\t\t\t//}// save a byte!\r\n\t\t\telse{\r\n\t\t\t\t// create new control if first star or control element was removed/replaced\r\n\t\t\t\t\r\n\t\t\t\t// Initialize options for this raters\r\n\t\t\t\tcontrol = $.extend(\r\n\t\t\t\t\t{}/* new object */,\r\n\t\t\t\t\toptions || {} /* current call options */,\r\n\t\t\t\t\t($.metadata? input.metadata(): ($.meta?input.data():null)) || {}, /* metadata options */\r\n\t\t\t\t\t{ count:0, stars: [], inputs: [] }\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\t// increment number of rating controls\r\n\t\t\t\tcontrol.serial = raters.count++;\r\n\t\t\t\t\r\n\t\t\t\t// create rating element\r\n\t\t\t\trater = $('<span class=\"star-rating-control\"/>');\r\n\t\t\t\tinput.before(rater);\r\n\t\t\t\t\r\n\t\t\t\t// Mark element for initialization (once all stars are ready)\r\n\t\t\t\trater.addClass('rating-to-be-drawn');\r\n\t\t\t\t\r\n\t\t\t\t// Accept readOnly setting from 'disabled' property\r\n\t\t\t\tif(input.attr('disabled')) control.readOnly = true;\r\n\t\t\t\t\r\n\t\t\t\t// Create 'cancel' button\r\n\t\t\t\trater.append(\r\n\t\t\t\t\tcontrol.cancel = $('<div class=\"rating-cancel\"><a title=\"' + control.cancel + '\">' + control.cancelValue + '</a></div>')\r\n\t\t\t\t\t.mouseover(function(){\r\n\t\t\t\t\t\t$(this).rating('drain');\r\n\t\t\t\t\t\t$(this).addClass('star-rating-hover');\r\n\t\t\t\t\t\t//$(this).rating('focus');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.mouseout(function(){\r\n\t\t\t\t\t\t$(this).rating('draw');\r\n\t\t\t\t\t\t$(this).removeClass('star-rating-hover');\r\n\t\t\t\t\t\t//$(this).rating('blur');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.click(function(){\r\n\t\t\t\t\t $(this).rating('select');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.data('rating', control)\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t}; // first element of group\r\n\t\t\t\r\n\t\t\t// insert rating star\r\n\t\t\tvar star = $('<div class=\"star-rating rater-'+ control.serial +'\"><a title=\"' + (this.title || this.value) + '\">' + this.value + '</a></div>');\r\n\t\t\trater.append(star);\r\n\t\t\t\r\n\t\t\t// inherit attributes from input element\r\n\t\t\tif(this.id) star.attr('id', this.id);\r\n\t\t\tif(this.className) star.addClass(this.className);\r\n\t\t\t\r\n\t\t\t// Half-stars?\r\n\t\t\tif(control.half) control.split = 2;\r\n\t\t\t\r\n\t\t\t// Prepare division control\r\n\t\t\tif(typeof control.split=='number' && control.split>0){\r\n\t\t\t\tvar stw = ($.fn.width ? star.width() : 0) || control.starWidth;\r\n                stw = 16;//width star\r\n\t\t\t\tvar spi = (control.count % control.split), spw = Math.floor(stw/control.split);\r\n                \r\n\t\t\t\tstar\r\n\t\t\t\t// restrict star's width and hide overflow (already in CSS)\r\n\t\t\t\t.width(spw)\r\n\t\t\t\t// move the star left by using a negative margin\r\n\t\t\t\t// this is work-around to IE's stupid box model (position:relative doesn't work)\r\n\t\t\t\t.find('a').css({ 'margin-left':'-'+ (spi*spw) +'px' })\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t// readOnly?\r\n\t\t\tif(control.readOnly)//{ //save a byte!\r\n\t\t\t\t// Mark star as readOnly so user can customize display\r\n\t\t\t\tstar.addClass('star-rating-readonly');\r\n\t\t\t//}  //save a byte!\r\n\t\t\telse//{ //save a byte!\r\n\t\t\t // Enable hover css effects\r\n\t\t\t\tstar.addClass('star-rating-live')\r\n\t\t\t\t // Attach mouse events\r\n\t\t\t\t\t.mouseover(function(){\r\n\t\t\t\t\t\t$(this).rating('fill');\r\n\t\t\t\t\t\t$(this).rating('focus');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.mouseout(function(){\r\n\t\t\t\t\t\t$(this).rating('draw');\r\n\t\t\t\t\t\t$(this).rating('blur');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.click(function(){\r\n\t\t\t\t\t\t$(this).rating('select');\r\n\t\t\t\t\t})\r\n\t\t\t\t;\r\n\t\t\t//}; //save a byte!\r\n\t\t\t\r\n\t\t\t// set current selection\r\n\t\t\tif(this.checked)\tcontrol.current = star;\r\n\t\t\t\r\n\t\t\t// hide input element\r\n\t\t\tinput.hide();\r\n\t\t\t\r\n\t\t\t// backward compatibility, form element to plugin\r\n\t\t\tinput.change(function(){\r\n    $(this).rating('select');\r\n   });\r\n\t\t\t\r\n\t\t\t// attach reference to star to input element and vice-versa\r\n\t\t\tstar.data('rating.input', input.data('rating.star', star));\r\n\t\t\t\r\n\t\t\t// store control information in form (or body when form not available)\r\n\t\t\tcontrol.stars[control.stars.length] = star[0];\r\n\t\t\tcontrol.inputs[control.inputs.length] = input[0];\r\n\t\t\tcontrol.rater = raters[eid] = rater;\r\n\t\t\tcontrol.context = context;\r\n\t\t\t\r\n\t\t\tinput.data('rating', control);\r\n\t\t\trater.data('rating', control);\r\n\t\t\tstar.data('rating', control);\r\n\t\t\tcontext.data('rating', raters);\r\n  }); // each element\r\n\t\t\r\n\t\t// Initialize ratings (first draw)\r\n\t\t$('.rating-to-be-drawn').rating('draw').removeClass('rating-to-be-drawn');\r\n\t\t\r\n\t\treturn this; // don't break the chain...\r\n\t};\r\n\t\r\n\t/*--------------------------------------------------------*/\r\n\t\r\n\t/*\r\n\t\t### Core functionality and API ###\r\n\t*/\r\n\t$.extend($.fn.rating, {\r\n\t\t// Used to append a unique serial number to internal control ID\r\n\t\t// each time the plugin is invoked so same name controls can co-exist\r\n\t\tcalls: 0,\r\n\t\t\r\n\t\tfocus: function(){\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\tif(!control.focus) return this; // quick fail if not required\r\n\t\t\t// find data for event\r\n\t\t\tvar input = $(this).data('rating.input') || $( this.tagName=='INPUT' ? this : null );\r\n   // focus handler, as requested by focusdigital.co.uk\r\n\t\t\tif(control.focus) control.focus.apply(input[0], [input.val(), $('a', input.data('rating.star'))[0]]);\r\n\t\t}, // $.fn.rating.focus\r\n\t\t\r\n\t\tblur: function(){\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\tif(!control.blur) return this; // quick fail if not required\r\n\t\t\t// find data for event\r\n\t\t\tvar input = $(this).data('rating.input') || $( this.tagName=='INPUT' ? this : null );\r\n   // blur handler, as requested by focusdigital.co.uk\r\n\t\t\tif(control.blur) control.blur.apply(input[0], [input.val(), $('a', input.data('rating.star'))[0]]);\r\n\t\t}, // $.fn.rating.blur\r\n\t\t\r\n\t\tfill: function(){ // fill to the current mouse position.\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// do not execute when control is in read-only mode\r\n\t\t\tif(control.readOnly) return;\r\n\t\t\t// Reset all stars and highlight them up to this element\r\n\t\t\tthis.rating('drain');\r\n\t\t\tthis.prevAll().andSelf().filter('.rater-'+ control.serial).addClass('star-rating-hover');\r\n\t\t},// $.fn.rating.fill\r\n\t\t\r\n\t\tdrain: function() { // drain all the stars.\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// do not execute when control is in read-only mode\r\n\t\t\tif(control.readOnly) return;\r\n\t\t\t// Reset all stars\r\n\t\t\tcontrol.rater.children().filter('.rater-'+ control.serial).removeClass('star-rating-on').removeClass('star-rating-hover');\r\n\t\t},// $.fn.rating.drain\r\n\t\t\r\n\t\tdraw: function(){ // set value and stars to reflect current selection\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// Clear all stars\r\n\t\t\tthis.rating('drain');\r\n\t\t\t// Set control value\r\n\t\t\tif(control.current){\r\n\t\t\t\tcontrol.current.data('rating.input').attr('checked','checked');\r\n\t\t\t\tcontrol.current.prevAll().andSelf().filter('.rater-'+ control.serial).addClass('star-rating-on');\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t $(control.inputs).removeAttr('checked');\r\n\t\t\t// Show/hide 'cancel' button\r\n\t\t\tcontrol.cancel[control.readOnly || control.required?'hide':'show']();\r\n\t\t\t// Add/remove read-only classes to remove hand pointer\r\n\t\t\tthis.siblings()[control.readOnly?'addClass':'removeClass']('star-rating-readonly');\r\n\t\t},// $.fn.rating.draw\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tselect: function(value,wantCallBack){ // select a value\r\n\t\t\t\t\t\r\n\t\t\t\t\t// ***** MODIFICATION *****\r\n\t\t\t\t\t// Thanks to faivre.thomas - http://code.google.com/p/jquery-star-rating-plugin/issues/detail?id=27\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// ***** LIST OF MODIFICATION *****\r\n\t\t\t\t\t// ***** added Parameter wantCallBack : false if you don't want a callback. true or undefined if you want postback to be performed at the end of this method'\r\n\t\t\t\t\t// ***** recursive calls to this method were like : ... .rating('select') it's now like .rating('select',undefined,wantCallBack); (parameters are set.)\r\n\t\t\t\t\t// ***** line which is calling callback\r\n\t\t\t\t\t// ***** /LIST OF MODIFICATION *****\r\n\t\t\t\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// do not execute when control is in read-only mode\r\n\t\t\tif(control.readOnly) return;\r\n\t\t\t// clear selection\r\n\t\t\tcontrol.current = null;\r\n\t\t\t// programmatically (based on user input)\r\n\t\t\tif(typeof value!='undefined'){\r\n\t\t\t // select by index (0 based)\r\n\t\t\t\tif(typeof value=='number')\r\n \t\t\t return $(control.stars[value]).rating('select',undefined,wantCallBack);\r\n\t\t\t\t// select by literal value (must be passed as a string\r\n\t\t\t\tif(typeof value=='string')\r\n\t\t\t\t\t//return\r\n\t\t\t\t\t$.each(control.stars, function(){\r\n\t\t\t\t\t\tif($(this).data('rating.input').val()==value) $(this).rating('select',undefined,wantCallBack);\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tcontrol.current = this[0].tagName=='INPUT' ?\r\n\t\t\t\t this.data('rating.star') :\r\n\t\t\t\t\t(this.is('.rater-'+ control.serial) ? this : null);\r\n\r\n\t\t\t// Update rating control state\r\n\t\t\tthis.data('rating', control);\r\n\t\t\t// Update display\r\n\t\t\tthis.rating('draw');\r\n\t\t\t// find data for event\r\n\t\t\tvar input = $( control.current ? control.current.data('rating.input') : null );\r\n\t\t\t// click callback, as requested here: http://plugins.jquery.com/node/1655\r\n\t\t\t\t\t\r\n\t\t\t\t\t// **** MODIFICATION *****\r\n\t\t\t\t\t// Thanks to faivre.thomas - http://code.google.com/p/jquery-star-rating-plugin/issues/detail?id=27\r\n\t\t\t\t\t//\r\n\t\t\t\t\t//old line doing the callback :\r\n\t\t\t\t\t//if(control.callback) control.callback.apply(input[0], [input.val(), $('a', control.current)[0]]);// callback event\r\n\t\t\t\t\t//\r\n\t\t\t\t\t//new line doing the callback (if i want :)\r\n\t\t\t\t\tif((wantCallBack ||wantCallBack == undefined) && control.callback) control.callback.apply(input[0], [input.val(), $('a', control.current)[0]]);// callback event\r\n\t\t\t\t\t//to ensure retro-compatibility, wantCallBack must be considered as true by default\r\n\t\t\t\t\t// **** /MODIFICATION *****\r\n\t\t\t\t\t\r\n  },// $.fn.rating.select\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\treadOnly: function(toggle, disable){ // make the control read-only (still submits value)\r\n\t\t\tvar control = this.data('rating'); if(!control) return this;\r\n\t\t\t// setread-only status\r\n\t\t\tcontrol.readOnly = toggle || toggle==undefined ? true : false;\r\n\t\t\t// enable/disable control value submission\r\n\t\t\tif(disable) $(control.inputs).attr(\"disabled\", \"disabled\");\r\n\t\t\telse     \t\t\t$(control.inputs).removeAttr(\"disabled\");\r\n\t\t\t// Update rating control state\r\n\t\t\tthis.data('rating', control);\r\n\t\t\t// Update display\r\n\t\t\tthis.rating('draw');\r\n\t\t},// $.fn.rating.readOnly\r\n\t\t\r\n\t\tdisable: function(){ // make read-only and never submit value\r\n\t\t\tthis.rating('readOnly', true, true);\r\n\t\t},// $.fn.rating.disable\r\n\t\t\r\n\t\tenable: function(){ // make read/write and submit value\r\n\t\t\tthis.rating('readOnly', false, false);\r\n\t\t}// $.fn.rating.select\r\n\t\t\r\n });\r\n\t\r\n\t/*--------------------------------------------------------*/\r\n\t\r\n\t/*\r\n\t\t### Default Settings ###\r\n\t\teg.: You can override default control like this:\r\n\t\t$.fn.rating.options.cancel = 'Clear';\r\n\t*/\r\n\t$.fn.rating.options = { //$.extend($.fn.rating, { options: {\r\n\t\t\tcancel: 'Cancel Rating',   // advisory title for the 'cancel' link\r\n\t\t\tcancelValue: '',           // value to submit when user click the 'cancel' link\r\n\t\t\tsplit: 0,                  // split the star into how many parts?\r\n\t\t\t\r\n\t\t\t// Width of star image in case the plugin can't work it out. This can happen if\r\n\t\t\t// the jQuery.dimensions plugin is not available OR the image is hidden at installation\r\n\t\t\tstarWidth: 16//,\r\n\t\t\t\r\n\t\t\t//NB.: These don't need to be pre-defined (can be undefined/null) so let's save some code!\r\n\t\t\t//half:     false,         // just a shortcut to control.split = 2\r\n\t\t\t//required: false,         // disables the 'cancel' button so user can only select one of the specified values\r\n\t\t\t//readOnly: false,         // disable rating plugin interaction/ values cannot be changed\r\n\t\t\t//focus:    function(){},  // executed when stars are focused\r\n\t\t\t//blur:     function(){},  // executed when stars are focused\r\n\t\t\t//callback: function(){},  // executed when a star is clicked\r\n }; //} });\r\n\t\r\n\t/*--------------------------------------------------------*/\r\n\t\r\n\t/*\r\n\t\t### Default implementation ###\r\n\t\tThe plugin will attach itself to file inputs\r\n\t\twith the class 'multi' when the page loads\r\n\t*/\r\n\t$(function(){\r\n\t $('input[type=radio].star').rating();\r\n\t});\r\n\t\r\n\t\r\n\t\r\n/*# AVOID COLLISIONS #*/\r\n})(jQuery);\r\n/*# AVOID COLLISIONS #*/\r\n"],"sourceRoot":"/source/"}